!function(){"use strict";function e(){}angular.module("app",["ngResource","ngSanitize","ngRoute","ngAnimate","ngStorage","aCKolor"]).controller("AppCtlr",e)}(),function(){"use strict";function e(e){this.InteractiveService=e,this.debug=function(e){console.log(e)}}e.$inject=["InteractiveService"],angular.module("app").config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{title:"",template:'<div ng-controller="InteractiveCtlr as ictlr" class=m-height100><div ng-repeat="data in ictlr.InteractiveService.htmlTree.nodes track by $index" interactive-node=data interactive-node-parent=ictlr.InteractiveService.htmlTree ng-init="path = $index" interactive-node-parent-path=path class=c-interactive_wrapper></div></div>',controller:"InteractiveCtlr",model:"app"})}]).controller("InteractiveCtlr",e)}(),function(){"use strict";function e(){return{logTestString:{key:"logTestString",label:"Log test string property",arguments:{logme:{keyPath:"properties.testString.value",value:null}},fn:"console.log(logme);"}}}angular.module("app").service("InteractiveMethods",e)}(),function(){"use strict";function e(e,t,r){return{restrict:"A",scope:{interactiveModel:"=interactiveModel"},link:function(t,i,o){i.bind("input",function(o){r(function(){for(var r=t.interactiveModel.element.properties[t.interactiveModel.propertyKey].bind.split("."),o=null,n=0;n<r.length;n++)0===n&&(o=e.properties),o=o[r[n]];o.value=i.val()})})}}}e.$inject=["InteractiveService","OrbiterService","$timeout"],angular.module("app").directive("interactiveModel",e)}(),function(){"use strict";function e(e,t,r,i){return{restrict:"A",scope:{data:"=interactiveNode",parent:"=interactiveNodeParent",parentPath:"=interactiveNodeParentPath"},link:function(o,n,a){o.dataProperties=e.properties[o.data.id],o.styles=e.getStyles(o.dataProperties);var l="",s=function(){l+=' ng-controller="InteractiveCtlr as ictlr"'},p=function(){l+=' ng-style="ictlr.InteractiveService.getStyles(dataProperties)"'},c=function(){for(var e in o.dataProperties.events)o.dataProperties.events[e].fn&&o.dataProperties.events[e].fn.length&&(l+=o.dataProperties.events[e].method+"=\"ictlr.InteractiveService.runFN(dataProperties.events['"+e+"'])\" ")},d=function(){l+=' interactive-id="'+o.dataProperties.id+'"'},u=function(){"Text"!==o.dataProperties.label&&"Link"!==o.dataProperties.label&&"Button"!==o.dataProperties.label||(l+='<span ng-bind-html="ictlr.InteractiveService.getBinding(dataProperties, \'text\')" class="c-interactive-bound"></span>')},v=function(){l+='<div ng-repeat="childData in data.nodes track by $index"',l+=' interactive-node="childData"',l+=' interactive-node-parent="data"',l+=" ng-init=\"thisPath=parentPath + ',nodes,' + $index\"",l+=' interactive-node-parent-path="thisPath"',l+=' path="{{thisPath}}"',l+=" ng-style=\"ictlr.InteractiveService.getStyles(ictlr.InteractiveService.properties[childData.id], 'display')\"",l+=" ng-class=\"childData.id === ictlr.InteractiveService.elementProperties.id ? 'm-active-iteractive-node' : ''\"",l+="></div>"},g=function(){s(),p(),c(),d(),l+=">",u(),v()};if("Block"===o.dataProperties.label||"Text"===o.dataProperties.label?(l+="<div",g(),l+="</div>"):"Link"===o.dataProperties.label?(l+="<a href=\"{{ictlr.InteractiveService.getBinding(dataProperties, 'url')}}\"",g(),l+="</a>"):"Button"===o.dataProperties.label&&(l+="<button",g(),l+="</button>"),n.html(l),i(n.contents())(o),e.developer){var b=angular.element(n[0].firstElementChild);n.bind("dragover",function(t){t.preventDefault(),n.addClass(a.orbiterAcceptDrop?e.canAccept(a.orbiterAcceptDrop):e.canAcceptDragClass)}),n.bind("dragleave",function(t){n.removeClass(e.canAcceptDragClass)}),n.bind("drop",function(i){return i.preventDefault(),i.stopPropagation(),r(function(){angular.element(document.querySelectorAll("."+e.canAcceptDragClass)).removeClass(e.canAcceptDragClass),t.addToInteractive(o.data,t.dragging)}),!1}),n.bind("click",function(e){e.stopPropagation(),r(function(){t.activeProperties(o.dataProperties)})}),b.bind("click",function(e){e.preventDefault()})}}}}e.$inject=["InteractiveService","OrbiterService","$timeout","$compile"],angular.module("app").directive("interactiveNode",e)}(),function(){"use strict";function e(){return{"Test string":{key:"Test string",orbiterType:"property",value:null,defaultValue:"Hi! This is a testString"},$$styleClasses:{body:{color:{key:"color",value:"#333333"},"font-size":{key:"font-size",value:"14px"},"line-height":{key:"line-height",value:"21px"},"margin-top":{key:"margin-top",value:"0px"},"margin-bottom":{key:"margin-bottom",value:"0px"},"margin-left":{key:"margin-left",value:"0px"},"margin-right":{key:"margin-right",value:"0px"},"padding-top":{key:"padding-top",value:"0px"},"padding-bottom":{key:"padding-bottom",value:"0px"},"padding-left":{key:"padding-left",value:"0px"},"padding-right":{key:"padding-right",value:"0px"}},button:{color:{key:"color",value:"#FFFFFF"},"font-size":{key:"font-size",value:"14px"},"line-height":{key:"line-height",value:"21px"},"margin-top":{key:"margin-top",value:"0px"},"margin-bottom":{key:"margin-bottom",value:"0px"},"margin-left":{key:"margin-left",value:"0px"},"margin-right":{key:"margin-right",value:"3px"},"padding-top":{key:"padding-top",value:"7px"},"padding-bottom":{key:"padding-bottom",value:"7x"},"padding-left":{key:"padding-left",value:"14px"},"padding-right":{key:"padding-right",value:"14px"}}}}}angular.module("app").service("InteractiveProperties",e)}(),function(){"use strict";function e(e,t,r,i){var o={developer:!1,propertyPrefix:"!@#$%^&*()|",htmlTree:{},properties:{},methods:{},dragging:null,canAcceptDragClass:"c-drag_can-accept",canAccept:function(e){try{e=JSON.parse(e)}catch(t){}return e&&"object"==typeof e&&o.dragging&&!e.length?o.canAcceptDragClass:void 0},styles:e,getStyles:function(t,r){if(t&&t.hasOwnProperty("properties")){var i=t.properties,n={},a=function(r){if(e.hasOwnProperty(r)){var i=r,a=o.getBinding(t,r);i=e[r].ruleName,e[r].hasOwnProperty("transform")&&e[r].transform.hasOwnProperty(a)&&(a=e[r].transform[a]),e[r].hasOwnProperty("append")&&(a+=e[r].append),a&&"null"!==a&&(n[i]=a)}};if(r)i.hasOwnProperty(r)&&i[r].value&&a(r);else for(var l in i)a(l);return n}return!1},getBinding:function(e,t){var r=o.lookUpPath(o.properties,e.properties[t].bind);return r?r.value:null},lookUpPath:function(e,t){if(t){var r=t.split(".");return 1==r.length?e[r[0]]:o.lookUpPath(e[r[0]],r.slice(1).join("."))}return null},findElement:function(e,t){if(t===e.id)return e;for(var r=0;r<e.nodes.length;r++){var i=o.findElement(e.nodes[r],t);if(i)return i}return!1},runFN:function(e){var t=function(e){var t=o.lookUpPath(o.properties,e.target),r="custom text"===e.valueType?e.value:o.lookUpPath(o.properties,e.value);t&&(t.value=r.hasOwnProperty("value")?r.value:r)};if(!o.developer)for(var r=0;r<e.fn.length;r++){var i=e.fn[r];switch(i.type){case"set":t(i)}}}};return o}e.$inject=["InteractiveStyles","InteractiveProperties","InteractiveMethods","$localStorage"],angular.module("app").service("InteractiveService",e)}(),function(){"use strict";function e(){return{display:{ruleName:"display",category:"display"},"background-color":{ruleName:"background-color",category:"display"},"border-radius":{ruleName:"border-radius",category:"display"},"box-shadow":{ruleName:"box-shadow",category:"display"},color:{ruleName:"color",category:"text"},"font-size":{ruleName:"font-size",category:"text"},size:{ruleName:"font-size",category:"text"},"font-weight":{ruleName:"font-weight",category:"text"},weight:{ruleName:"font-weight",category:"text"},"text-align":{ruleName:"text-align",category:"text"},align:{ruleName:"text-align",category:"text"},"font-style":{ruleName:"font-style",category:"text"},"text-decoration":{ruleName:"text-decoration",category:"text"},"padding-top":{ruleName:"padding-top",category:"spacing"},"padding-right":{ruleName:"padding-right",category:"spacing"},"padding-bottom":{ruleName:"padding-bottom",category:"spacing"},"padding-left":{ruleName:"padding-left",category:"spacing"},"margin-top":{ruleName:"margin-top",category:"spacing"},"margin-right":{ruleName:"margin-right",category:"spacing"},"margin-bottom":{ruleName:"margin-bottom",category:"spacing"},"margin-left":{ruleName:"margin-left",category:"spacing"},"border-top-color":{ruleName:"border-top-color",category:"border"},"border-top-width":{ruleName:"border-top-width",category:"border"},"border-top-style":{ruleName:"border-top-style",category:"border"},"border-bottom-color":{ruleName:"border-bottom-color",category:"border"},"border-bottom-width":{ruleName:"border-bottom-width",category:"border"},"border-bottom-style":{ruleName:"border-bottom-style",category:"border"},"border-left-color":{ruleName:"border-left-color",category:"border"},"border-left-width":{ruleName:"border-left-width",category:"border"},"border-left-style":{ruleName:"border-left-style",category:"border"},"border-right-color":{ruleName:"border-right-color",category:"border"},"border-right-width":{ruleName:"border-right-width",category:"border"},"border-right-style":{ruleName:"border-right-style",category:"border"}}}angular.module("app").service("InteractiveStyles",e)}(),function(){"use strict";function e(e,t,r,i){return{restrict:"E",link:function(e,o,n){var a=["border-top-width","border-top-style","border-top-color","border-bottom-width","border-bottom-style","border-bottom-color","border-left-width","border-left-style","border-left-color","border-right-width","border-right-style","border-right-color"],l=function(){e.borderProperties={};for(var n=0;n<a.length;n++){var l=r.lookUpPath(r.properties,r.elementProperties.properties[a[n]].bind);l&&(e.borderProperties[a[n]]=l)}for(var s='<div class="c-expandable" ng-class="borderPropertiesToggled ? \'active\' : \'\'"><div class="c-expandable_toggler" ng-click="borderPropertiesToggled ? borderPropertiesToggled=false : borderPropertiesToggled=true">Borders</div><div class="c-expandable_content"><div class="c-expandable_content-inner"><div class="c-border-table"><div class="c-border-table-cell"><div class="left-side"><input ng-model="borderProperties[\'border-left-width\'].value"><a-ckolor model="borderProperties[\'border-left-color\'].value" type="\'hidden\'"></a-ckolor><select ng-model="borderProperties[\'border-left-style\'].value">',p=0;p<t.block.properties["border-right-style"].options.length;p++)s+='<option value="'+t.block.properties["border-right-style"].options[p]+'">'+t.block.properties["border-right-style"].options[p]+"</option>";s+='</select></div></div><div class="c-border-table-cell"><div class="middle-top"><input ng-model="borderProperties[\'border-top-width\'].value"><a-ckolor model="borderProperties[\'border-top-color\'].value" type="\'hidden\'"></a-ckolor><select ng-model="borderProperties[\'border-top-style\'].value">';for(var p=0;p<t.block.properties["border-right-style"].options.length;p++)s+='<option value="'+t.block.properties["border-right-style"].options[p]+'">'+t.block.properties["border-right-style"].options[p]+"</option>";s+='</select></div><div class="middle-middle"></div><div class="middle-bottom"><input ng-model="borderProperties[\'border-bottom-width\'].value"><a-ckolor model="borderProperties[\'border-bottom-color\'].value" type="\'hidden\'"></a-ckolor><select ng-model="borderProperties[\'border-bottom-style\'].value">';for(var p=0;p<t.block.properties["border-right-style"].options.length;p++)s+='<option value="'+t.block.properties["border-right-style"].options[p]+'">'+t.block.properties["border-right-style"].options[p]+"</option>";s+='</select></div></div><div class="c-border-table-cell"><div class="right-side"><input ng-model="borderProperties[\'border-right-width\'].value"><a-ckolor model="borderProperties[\'border-right-color\'].value" type="\'hidden\'"></a-ckolor><select ng-model="borderProperties[\'border-right-style\'].value">';for(var p=0;p<t.block.properties["border-right-style"].options.length;p++)s+='<option value="'+t.block.properties["border-right-style"].options[p]+'">'+t.block.properties["border-right-style"].options[p]+"</option>";s+="</select></div></div></div></div></div></div>",o.html(s),i(o.contents())(e)};l(),e.$watch(function(){return r.elementProperties.id},function(e,t){e!==t&&l()})}}}e.$inject=["OrbiterService","OrbiterElementTypes","InteractiveService","$compile"],angular.module("app").directive("borderProperties",e)}(),function(){"use strict";function e(){return{restrict:"E",template:'<div ng-controller="OrbiterCtlr as orb" ng-include="\'src/html/interactive/main.html\'" class=c-interactive_includer></div>'}}angular.module("app").directive("orbiterCanvas",e)}(),function(){"use strict";function e(e,t,r){return{restrict:"E",link:function(e,i,o){var n=["display","background-color","box-shadow","border-radius"],a=function(){e.diplayProperties={};for(var o=0;o<n.length;o++){var a=t.lookUpPath(t.properties,t.elementProperties.properties[n[o]].bind);a&&(e.diplayProperties[n[o]]=a)}var l='<div class="c-expandable" ng-class="diplayPropertiesToggled ? \'active\' : \'\'"><div class="c-expandable_toggler" ng-click="diplayPropertiesToggled ? diplayPropertiesToggled=false : diplayPropertiesToggled=true">Display</div><div class="c-expandable_content"><div class="c-expandable_content-inner"><div class="c-input-row"><div class="c-input-group"><label><i class="fa fa-eye"></i></label><select ng-model="diplayProperties.display.value"><option value="none">none</option><option value="block">block</option><option value="inline">inline</option><option value="inline-block">inline-block</option><option value="flex">flex</option><option value="inherit">Inherit</option></select></div><div class="c-input-group"><label><i class="fa fa-eyedropper"></i></label><a-ckolor model="diplayProperties[\'background-color\'].value" type="\'hidden\'"></a-ckolor></div></div><div class="c-input-row"><div class="c-input-group full"><label class="text">Radius</label><input ng-model="diplayProperties[\'border-radius\'].value" type="text"></div></div><div class="c-input-row"><div class="c-input-group full"><label class="text">Shadow</label><input ng-model="diplayProperties[\'box-shadow\'].value" type="text"></div></div></div></div></div>';i.html(l),r(i.contents())(e)};a(),e.$watch(function(){return t.elementProperties.id},function(e,t){e!==t&&a()})}}}e.$inject=["OrbiterService","InteractiveService","$compile"],angular.module("app").directive("diplayProperties",e)}(),function(){"use strict";function e(e,t){return{restrict:"A",scope:{orbiterDragData:"=orbiterDragData"},link:function(t,r,i){function o(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;14>r;r++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}r.attr("draggable","true");var n=i.id;n||(n=o(),r.attr("id",n)),r.bind("dragstart",function(r){e.drag(angular.copy(t.orbiterDragData))}),r.bind("dragend",function(t){e.drag(null)})}}}e.$inject=["OrbiterService","InteractiveService"],angular.module("app").directive("orbiterDraggable",e)}(),function(){"use strict";function e(e,t){return{restrict:"A",link:function(r,i,o){function n(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;14>r;r++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}var a=o.id;a||(a=n(),i.attr("id",a)),i.bind("dragover",function(e){e.preventDefault(),i.addClass(o.orbiterDroppable?t.canAccept(o.orbiterDroppable):t.canAcceptDragClass)}),i.bind("dragleave",function(e){i.removeClass(t.canAcceptDragClass)}),i.bind("drop",function(r){r.preventDefault();e.dragging;return i.removeClass(t.canAcceptDragClass),!1})}}}e.$inject=["OrbiterService","InteractiveService"],angular.module("app").directive("orbiterDroppable",e)}(),function(){"use strict";function e(e,t,r){return{restrict:"E",scope:{element:"=elementModel",propertyKey:"=propertyKey",inputType:"=inputType"},link:function(e,i,o){function n(){var o="";if(e.element&&e.propertyKey&&e.element.properties.hasOwnProperty(e.propertyKey)&&(e.property=e.element.properties[e.propertyKey],e.property))switch(e.bindingObj=t.lookUpPath(t.properties,e.property.bind),e.inputType){case"select":o+='<select ng-model="bindingObj.value"><option ng-repeat="option in property.options track by $index" value="{{option}}" ng-bind="option"></option></select>';break;case"textarea":o+='<textarea ng-model="bindingObj.value"></textarea>';break;case"text":o+='<input ng-model="bindingObj.value" type="text"></textarea>';break;case"color":o+='<a-ckolor model="bindingObj.value" type="\'hidden\'"></a-ckolor>'}i.html(o),r(i.contents())(e)}n(),e.$watch(function(){return t.elementProperties.id},function(e,t){e!==t&&n()})}}}e.$inject=["OrbiterService","InteractiveService","$compile"],angular.module("app").directive("elementPropertyInput",e)}(),function(){"use strict";function e(){var e=["dashed","dotted","double","groove","hidden","inherit","inset","none","outset","ridge","solid"],t={text:{value:"Text",bind:null},color:{value:"inherit",bind:null},"font-size":{value:"inherit",bind:null},"font-weight":{options:["light","normal","bold","inherit"],value:"inherit",bind:null},"font-style":{options:["italic","normal","oblique","inherit"],value:"inherit",bind:null},"text-decoration":{options:["none","line-through","overline","underline","inherit"],value:"inherit",bind:null},"text-align":{options:["left","center","right","inherit"],value:"inherit",bind:null},"padding-top":{value:"0px",bind:null},"padding-right":{value:"0px",bind:null},"padding-bottom":{value:"0px",bind:null},"padding-left":{value:"0px",bind:null},"margin-top":{value:"0px",bind:null},"margin-right":{value:"0px",bind:null},"margin-bottom":{value:"0px",bind:null},"margin-left":{value:"0px",bind:null},"background-color":{value:"transparent",bind:null},display:{options:["block","inline"],value:"inline",bind:null},"box-shadow":{value:"none",bind:null},"border-radius":{value:"0px",bind:null},"border-top-color":{value:"transparent",bind:null},"border-top-width":{value:"0px",bind:null},"border-top-style":{value:"none",options:e,bind:null},"border-bottom-color":{value:"transparent",bind:null},"border-bottom-width":{value:"0px",bind:null},"border-bottom-style":{value:"none",options:e,bind:null},"border-left-color":{value:"transparent",bind:null},"border-left-width":{value:"0px",bind:null},"border-left-style":{value:"none",options:e,bind:null},"border-right-color":{value:"transparent",bind:null},"border-right-width":{value:"0px",bind:null},"border-right-style":{value:"none",options:e,bind:null}},r=angular.copy(t),i=angular.copy(t),o=angular.copy(t);delete o.text,o.display.value="block";var n={click:{label:null,method:"ng-click",fn:[]},"Mouse down":{label:null,method:"ng-mousedown",fn:[]},"Mouse move":{label:null,method:"ng-mousemove",fn:[]}};return{block:{label:"Block",properties:o,events:n},text:{label:"Text",properties:t,events:n},link:{label:"Link",properties:r,events:n},button:{label:"Button",properties:i,events:n}}}angular.module("app").service("OrbiterElementTypes",e)}(),function(){"use strict";function e(e,t,r,i,o){var n={dragging:null,drag:function(t){n.dragging=t,e.dragging=t},addToInteractive:function(t,r){var i=r;i.id=r.label,i.orbiterType="element";for(var o=1;e.properties.hasOwnProperty(i.id+" "+o);)o++;i.id=i.id+" "+o;for(var n in i.properties)i.properties[n].bind=i.id+".properties."+n;t.id!==i.id&&(t.nodes.push({id:i.id,nodes:[]}),e.properties[i.id]=i)},stagedElementIdConflict:null,updateElementId:function(t){function r(){for(var r in e.properties)if(e.properties[r].id===t.id){e.properties[r].id=r;break}}function i(e){for(var r=0;r<e.nodes.length;r++)e.nodes[r].id===o&&(e.nodes[r].id=t.id),e.nodes[r].nodes.length>0&&i(e.nodes[r])}var o=null;if(t.id)if(t.id.indexOf(".")>-1)n.stagedElementIdConflict="Element name cannont contain periods(.)",r();else if(e.properties.hasOwnProperty(t.id))n.stagedElementIdConflict="There is already an element with this name",r();else{n.stagedElementIdConflict=null;for(var a in e.properties)if(e.properties[a].id===t.id){o=a;for(var l in e.properties[a].properties){var s=e.properties[a].properties[l].bind.split(".");s[0]===o&&(s[0]=t.id,e.properties[a].properties[l].bind=s.join("."))}break}e.properties[t.id]=e.properties[o],delete e.properties[o],i(e.htmlTree)}else n.stagedElementIdConflict="Element name is required",r()},elementProperties:null,activeProperties:function(t){e.elementProperties&&(e.elementProperties.active=!1),t.active=!0,e.elementProperties=t,console.log(e.elementProperties)},save:function(){o.OrbiterInteractiveTree||(o.OrbiterInteractiveTree={}),o.OrbiterInteractiveProperties||(o.OrbiterInteractiveProperties={}),o.OrbiterInteractiveMethods||(o.OrbiterInteractiveMethods={}),o.OrbiterInteractiveTree=e.htmlTree,o.OrbiterInteractiveProperties=e.properties,o.OrbiterInteractiveMethods=e.methods},spacingProperties:function(e){for(var t={},r=["padding-top","padding-right","padding-bottom","padding-left","margin-top","margin-right","margin-bottom","margin-left"],i=0;i<r.length;i++)if(e.properties.hasOwnProperty(r[i])){var o=r[i].split("-");t[o[0]]||(t[o[0]]={}),t[o[0]][o[1]]=e.properties[r[i]]}return t},newDataObject:null,currentEventObject:null,removeArrayElement:function(e,t){return e.splice(t,1)},propertyDialogue:null,propertyMapperDialogue:null,mapProperties:function(t,r){for(var i in r)r[i]["new"]&&"none"!==r[i]["new"]?t.properties[i].bind=r[i]["new"]:"none"===r[i]["new"]&&(t.properties[i].bind=e.propertyPrefix+t.id+"."+i)},updateProperties:function(e){},stagedNewProperty:null,stagedNewPropertyKeyConflict:!1,insertNewProperty:function(t){t.key?e.properties.hasOwnProperty(t.key)?n.stagedNewPropertyKeyConflict="There is already a property with this name":(t.value=t.defaultValue,t.orbiterType="property",e.properties[t.key]=t,n.stagedNewProperty=null):n.stagedNewPropertyKeyConflict="Property name is required"},propertySelectorDialogue:null};o.hasOwnProperty("OrbiterInteractiveProperties")&&o.OrbiterInteractiveProperties&&Object.keys(o.OrbiterInteractiveProperties).length>0?e.properties=o.OrbiterInteractiveProperties:(o.OrbiterInteractiveProperties=angular.copy(t),e.properties=o.OrbiterInteractiveProperties);for(var a in e.properties)e.properties[a].hasOwnProperty("defaultValue")&&(e.properties[a].value=e.properties[a].defaultValue);return o.hasOwnProperty("OrbiterInteractiveMethods")&&o.OrbiterInteractiveMethods&&Object.keys(o.OrbiterInteractiveMethods).length>0?e.methods=o.OrbiterInteractiveMethods:(o.OrbiterInteractiveMethods=angular.copy(r),e.methods=o.OrbiterInteractiveMethods),o.hasOwnProperty("OrbiterInteractiveTree")&&o.OrbiterInteractiveTree.hasOwnProperty("nodes")&&o.OrbiterInteractiveTree.nodes.length>0?e.htmlTree=o.OrbiterInteractiveTree:(o.OrbiterInteractiveTree={nodes:[]},e.htmlTree=o.OrbiterInteractiveTree,n.addToInteractive(e.htmlTree,i.block)),console.log(e.htmlTree,e.properties),n}e.$inject=["InteractiveService","InteractiveProperties","InteractiveMethods","OrbiterElementTypes","$localStorage"],angular.module("app").service("OrbiterService",e)}(),function(){"use strict";function e(e,t,r,i,o,n){var a=this;this.$localStorage=e,e.Orbiter||(e.Orbiter={}),this.OrbiterService=r,this.OrbiterElementTypes=i,this.InteractiveService=o,o.developer=!0,this.trackingMouseMove=!1,this.mouseMoveMethod=null,this.sizingElement=null,this.endTrackingMouseMove=function(){return a.trackingMouseMove?(a.trackingMouseMove=!1,void(a.mouseMoveMethod=null)):!1},this.trackMouseMove=function(e){return a.trackingMouseMove?void a.mouseMoveMethod(e):!1},this.canvasElements=function(e){for(var r=a.sizingElement[0],i=1;i<a.sizingElement.length;i++)r=r[a.sizingElement[i]];var o=e.pageX-r.getBoundingClientRect().left;0>o&&(o=0),a.$localStorage.Orbiter.elementsWidth=(t.innerWidth-o)/t.innerWidth*100+"%",a.$localStorage.Orbiter.canvasWidth=o/t.innerWidth*100+"%"},this.debug=function(e){return console.log(e),e},this.lowerCase=function(e){return e.toLowerCase()},this.formatDate=function(e){e||(e=(new Date).getTime());var t=new Date(+e),r=t.getHours(),i=t.getMinutes(),o=r>11?"PM":"AM",n=t.getMonth()+1,a=t.getDate(),l=t.getFullYear();return n+"-"+a+"-"+l+" "+r+":"+i+" "+o},this.typeOf=function(e){return e instanceof Object?"object":e instanceof Array?"array":"string"},this.dialogueOpen=!1,n.$watch(function(){return a.OrbiterService.newDataObject},function(e,t){e!==t&&(a.OrbiterService.newDataObject?a.dialogueOpen=!0:a.dialogueOpen=!1)}),n.$watch(function(){return a.OrbiterService.propertyDialogue},function(e,t){e!==t&&(a.OrbiterService.propertyDialogue?a.dialogueOpen=!0:a.dialogueOpen=!1)}),n.$watch(function(){return a.OrbiterService.currentEventObject},function(e,t){e!==t&&(a.OrbiterService.currentEventObject?a.dialogueOpen=!0:a.dialogueOpen=!1)}),n.$watch(function(){return a.OrbiterService.propertyMapperDialogue},function(e,t){e!==t&&(a.OrbiterService.propertyMapperDialogue?a.dialogueOpen=!0:a.dialogueOpen=!1)}),n.$watch(function(){return a.OrbiterService.propertySelectorDialogue},function(e,t){e!==t&&(a.OrbiterService.propertySelectorDialogue?a.dialogueOpen=!0:a.dialogueOpen=!1)})}e.$inject=["$localStorage","$window","OrbiterService","OrbiterElementTypes","InteractiveService","$scope"],angular.module("app").config(["$routeProvider","$locationProvider",function(e,t){e.when("/_",{title:"Orbiter",template:'<div ng-controller="OrbiterCtlr as orb" class=m-height100 ng-mouseup="orb.trackingMouseMove = false" ng-mouseleave="orb.trackingMouseMove = false" ng-mousemove="orb.trackingMouseMove ? orb.mouseMoveMethod($event) : null" ng-class="orb.trackingMouseMove ? \'c-tracking-mousemove blur-\'+orb.dialogueOpen : \'c-ckrank_main blur-\'+orb.dialogueOpen"><div class=c-orbiter_body><div class=c-orbiter_body-inner><orbiter-canvas ng-style="{\'width\':orb.$localStorage.Orbiter.canvasWidth}"></orbiter-canvas><div class="c-section-resize m-horizontal" ng-style="{\'left\':orb.$localStorage.Orbiter.canvasWidth}" ng-mousedown="orb.trackingMouseMove=true; orb.mouseMoveMethod=orb.canvasElements; orb.sizingElement=[$event, \'target\', \'previousSibling\']"></div><orbiter-sidebar ng-style="{\'left\':orb.$localStorage.Orbiter.canvasWidth, \'width\':orb.$localStorage.Orbiter.elementsWidth}"></orbiter-sidebar></div></div><orbiter-menu></orbiter-menu><new-data-dialogue class=c-dialogue ng-if=orb.OrbiterService.newDataObject></new-data-dialogue><property-dialogue class=c-dialogue ng-if=orb.OrbiterService.propertyDialogue></property-dialogue><property-mapper-dialogue class=c-dialogue ng-if=orb.OrbiterService.propertyMapperDialogue></property-mapper-dialogue><current-event-dialogue class=c-dialogue ng-if=orb.OrbiterService.currentEventObject ng-init="eventObj=orb.OrbiterService.currentEventObject"></current-event-dialogue><property-selector-dialogue class=c-dialogue ng-if=orb.OrbiterService.propertySelectorDialogue></property-selector-dialogue></div>',controller:"OrbiterCtlr",model:"app"})}]).controller("OrbiterCtlr",e).directive("orbiterMenu",function(){return{restrict:"E",template:'<div class=c-orbiter_menu><div class=left-side><div class=c-orbiter_menu-item ng-click=orb.OrbiterService.save()><i class="fa fa-check"></i></div><div class="c-orbiter_menu-item c-dropdown"><div><i class="fa fa-plus"></i></div><div class=c-dropdown_list><div class=c-elements_item ng-class="\'type\'+element.label" ng-repeat="element in orb.OrbiterElementTypes track by $index" orbiter-draggable=true orbiter-drag-data=element><span ng-bind=element.label></span></div></div></div></div><div class=right-side><div class=c-orbiter_menu-item ng-click="orb.OrbiterService.propertyDialogue=true" style="font-weight: bold; font-size: 18px; line-height: 24px; padding-bottom: 4px; box-sizing: border-box;">@</div></div></div>'}}).directive("propertyDialogue",function(){return{restrict:"E",template:'<div class=c-dialogue_inner><h2><span>Available properties&nbsp;&nbsp;</span> <span><button class=circle ng-click="orb.OrbiterService.stagedNewProperty={key:null,defaultValue:null}"><i class="fa fa-plus"></i></button> <button class="circle orange" ng-click="orb.OrbiterService.propertyDialogue=null"><i class="fa fa-close"></i></button></span></h2><div class=c-dialogue_input ng-if=orb.OrbiterService.stagedNewProperty style="background: rgba(0, 0, 0, 0.42); padding: 14px 14px 7px; box-sizing: border-box;"><h4 style="margin: 0px 0px 7px;">New property</h4><small class=error ng-if=orb.OrbiterService.stagedNewPropertyKeyConflict ng-bind=orb.OrbiterService.stagedNewPropertyKeyConflict></small> <input ng-model=orb.OrbiterService.stagedNewProperty.key placeholder=name type=text ng-class="orb.OrbiterService.stagedNewPropertyKeyConflict ? \'red\' : \'\'"> <input ng-model=orb.OrbiterService.stagedNewProperty.defaultValue placeholder="default value" type=text> <button class=circle ng-click=orb.OrbiterService.insertNewProperty(orb.OrbiterService.stagedNewProperty)><i class="fa fa-check"></i></button> <button class="circle orange" ng-click="orb.OrbiterService.stagedNewProperty=null"><i class="fa fa-close"></i></button></div><div class=c-dialogue_input><div ng-repeat="(propertyKey, property) in orb.InteractiveService.properties track by $index" ng-if="property.hasOwnProperty(\'defaultValue\')" class=property><label ng-bind=propertyKey></label> <input ng-model=property.defaultValue type=text></div></div></div>'}}).directive("currentEventDialogue",function(){return{restrict:"E",template:'<div class=c-dialogue_inner ng-class=orb.dialogueSidebar ng-init="orb.dialogueSidebar=\'\'; orb.dialogueTaskToAddTo=null"><h2><span>Functional fun</span> <span><button class=circle ng-if=eventObj.label ng-click="orb.OrbiterService.save();orb.OrbiterService.currentEventObject=null"><i class="fa fa-check"></i></button> <button class="circle orange" ng-if="!eventObj.label || !eventObj.fn.length" ng-click="orb.OrbiterService.currentEventObject=null"><i class="fa fa-close"></i></button></span></h2><div class=c-dialogue_left><div class=c-dialogue_input><input type=text ng-model=eventObj.label placeholder="Function description"></div><h4>Tasks&nbsp;&nbsp;<button class=circle ng-click="eventObj.fn.push({label:null, method:null, arguments:[{type:null, target:null, action:null, valueType:null, value:null}]});"><i class="fa fa-plus"></i></button></h4><div class="c-dialogue_input tasks" ng-repeat="task in eventObj.fn track by $index" ng-init="task.dropdowns={type:{open:false}, target:{open:false}, action:{open:false}, valueType:{open:false}}"><div class=dropdown-tree ng-mouseleave="task.dropdowns.type.open=false"><div class=dropdown-tree-selection ng-bind="task.type || \'type\'" ng-click="task.dropdowns.type.open=true"></div><div class=dropdown-tree-list ng-class="task.dropdowns.type.open ? \'open\' : \'\'"><div class=dropdown-tree-list-item ng-click="task.type=\'set\'"><div class=dropdown-tree-list-item-inner>set</div></div></div></div><button ng-click="orb.OrbiterService.propertySelectorDialogue={obj:task,key:\'target\'}" ng-bind="task.target || \'set target\'"></button><div class=dropdown-tree ng-mouseleave="task.dropdowns.action.open=false"><div class=dropdown-tree-selection ng-bind="task.action || \'action\'" ng-click="task.dropdowns.action.open=true"></div><div class=dropdown-tree-list ng-class="task.dropdowns.action.open ? \'open\' : \'\'"><div class=dropdown-tree-list-item ng-click="task.action=\'=\'"><div class=dropdown-tree-list-item-inner>=</div></div></div></div><div class=dropdown-tree ng-mouseleave="task.dropdowns.valueType.open=false"><div class=dropdown-tree-selection ng-bind="task.valueType || \'value type\'" ng-click="task.dropdowns.valueType.open=true"></div><div class=dropdown-tree-list ng-class="task.dropdowns.valueType.open ? \'open\' : \'\'"><div class=dropdown-tree-list-item ng-click="task.valueType!==\'custom text\'? task.value=null : null; task.valueType=\'custom text\'"><div class=dropdown-tree-list-item-inner>custom text</div></div><div class=dropdown-tree-list-item ng-click="task.valueType!==\'property\'? task.value=null : null; task.valueType=\'property\'"><div class=dropdown-tree-list-item-inner>property</div></div></div></div><input ng-if="task.valueType===\'custom text\'" ng-model=task.value type=text placeholder=value> <button ng-if="task.valueType===\'property\'" ng-click="orb.OrbiterService.propertySelectorDialogue={obj:task,key:\'value\'}" ng-bind="task.value || \'set value\'"></button> <button class="orange circle" ng-click="orb.OrbiterService.removeArrayElement(eventObj.fn, $index)"><i class="fa fa-trash"></i></button></div></div></div>'
}}).directive("propertySelectorDialogue",["OrbiterService","InteractiveService",function(e,t){return{restrict:"E",template:'<div class=c-dialogue_inner><h2><span>Available properties&nbsp;&nbsp;</span> <span><button class=circle ng-click=savePropertySelectorDialogue() ng-if="propertySelectorLayersPath.length > 1"><i class="fa fa-check"></i></button> <button class="circle orange" ng-click="orb.OrbiterService.propertySelectorDialogue=null"><i class="fa fa-close"></i></button></span></h2><div class=property-tree><div ng-repeat="(layerIndex, layer) in propertySelectorLayers track by $index" class=property-tree-cell><div ng-repeat="(propKey, prop) in layer track by $index" ng-bind=prop.label ng-click="prop.end ? propertySelectorLayersPath.push(prop.label) : setPropertySelectorLayers(prop.path)" class=property-tree-cell-item ng-class="propertySelectorLayersPath[layerIndex] === prop.label || (propertySelectorLayersPath[layerIndex] === \'element\' && prop.label === \'Elements\') || (propertySelectorLayersPath[layerIndex] === \'property\' && prop.label === \'Properties\')? \'active\' : \'\'"></div></div></div></div>',link:function(r){r.defaultPropertySelectorLayers=[[{label:"Properties",path:["property"]},{label:"Elements",path:["element"]}]],r.propertySelectorLayersPath=[],r.propertySelectorLayers=angular.copy(r.defaultPropertySelectorLayers),r.setPropertySelectorLayers=function(e){r.propertySelectorLayersPath=[],r.propertySelectorLayers=angular.copy(r.defaultPropertySelectorLayers);for(var i=t.properties,o=(e[0],0);o<e.length;o++){i=0===o?t.properties:i[e[o]];var n=[];r.propertySelectorLayersPath.push(e[o]);for(var a in i)if(!(i.hasOwnProperty("orbiterType")&&"element"===i.orbiterType&&"properties"!==a||0===o&&i[a].orbiterType!==e[o])){var l=e.slice(0,o+1);l.push(a);var s={label:a,path:l};(i[a].hasOwnProperty("orbiterType")&&i[a].hasOwnProperty("value")||i[a].hasOwnProperty("bind")&&i[a].hasOwnProperty("value"))&&(s.end=!0),n.push(s)}n.length&&r.propertySelectorLayers.push(n)}},r.savePropertySelectorDialogue=function(){r.propertySelectorLayersPath.shift();for(var i=t.properties,o=0;o<r.propertySelectorLayersPath.length;o++)i=i[r.propertySelectorLayersPath[o]];console.log(i),e.propertySelectorDialogue.obj[e.propertySelectorDialogue.key]=r.propertySelectorLayersPath.join("."),e.propertySelectorDialogue=null}}}}])}(),function(){"use strict";function e(e,t,r){return{restrict:"E",link:function(i,o,n){var a=function(){i.propertyMapper={};i.sortedPropertiesToUpdate={};var n="",a=function(e){n+='<div class="property">',n+="<label>"+e+"</label>",n+='<div class="property-options-wrapper">',n+="<input ng-model=\"sortedPropertiesToUpdate['"+e+'\'].new" type="text" ng-focus="'+e+'PropertyFieldFocus=true">',n+="<button ng-if=\"sortedPropertiesToUpdate['"+e+"'].new !== 'none'\" ng-click=\"sortedPropertiesToUpdate['"+e+'\'].new = \'none\'" class="red" style="position: absolute; right: 0px; top: -3px;"><i class="fa fa-ban"></i></button>',n+='<div class="property-options" ng-class="'+e+"PropertyFieldFocus ? 'open' : ''\">",n+='<div class="property-option"',n+=' ng-repeat="(propKey, prop) in orb.InteractiveService.properties" ',n+='ng-bind="prop.key || prop.id"',n+="ng-click=\"sortedPropertiesToUpdate['"+e+"'].new = prop.key;"+e+'PropertyFieldFocus=false"',n+="></div>",n+="</div>",n+="</div>",n+="</div>"};if(n+='<div class="c-dialogue_inner">',n+="<h2>",n+="<span>Map properties</span>",n+="<span>",n+='<button class="circle" ng-click="orb.OrbiterService.mapProperties(orb.OrbiterService.propertyMapperDialogue.element, sortedPropertiesToUpdate);orb.OrbiterService.propertyMapperDialogue=null" style="margin-right: 7px;"><i class="fa fa-check"></i></button>',n+='<button class="circle orange" ng-click="orb.OrbiterService.propertyMapperDialogue=null"><i class="fa fa-close"></i></button>',n+="</h2>",n+="<div>","text"===e.propertyMapperDialogue.type){var l=t.properties[e.propertyMapperDialogue.element.properties.text.bind];e.propertyMapperDialogue.element,e.propertyMapperDialogue.element.properties.text.bind;i.sortedPropertiesToUpdate={text:{current:l||{key:"none"},"new":l?l.key:"none"}},a("text")}n+="</div>",n+="</div>",o.html(n),r(o.contents())(i)};a(),i.$watch(function(){return e.propertyMapperDialogue.element.id},function(e,t){e!==t&&a()})}}}e.$inject=["OrbiterService","InteractiveService","$compile"],angular.module("app").directive("propertyMapperDialogue",e)}(),function(){"use strict";function e(){return{restrict:"E",template:'<div ng-controller="OrbiterCtlr as orb"><div class=c-sidebar_elements_properties><h4><span>Text&nbsp;</span><span ng-if="orb.InteractiveService.elementProperties && orb.InteractiveService.elementProperties.properties.text" ng-click="orb.OrbiterService.propertyMapperDialogue={element:orb.InteractiveService.elementProperties, type:\'text\'}" class=c-sidebar_elements_property_bind-button>@</span></h4><div class=c-sidebar_item ng-if="orb.InteractiveService.elementProperties && orb.InteractiveService.elementProperties.properties.text"><element-property-input element-model=orb.InteractiveService.elementProperties property-key="\'text\'" input-type="\'textarea\'"></element-property-input></div></div><div class=c-sidebar_elements_properties><h4>Style</h4><div ng-if=orb.InteractiveService.elementProperties style=margin-bottom:14px;><text-properties></text-properties><diplay-properties></diplay-properties><spacing-properties></spacing-properties><border-properties></border-properties><div class=collapsable ng-class="styleClassesCollapsed ? \'\' : \'collapsed\'"><div class=collapsable-toggle ng-click="styleClassesCollapsed ? styleClassesCollapsed=false : styleClassesCollapsed=true">Classes</div><div class=collapsable-content ng-class="styleClassesCollapsed ? \'\' : \'collapsed\'">hi</div></div></div></div><div class=c-sidebar_events><h4>Events</h4><div ng-if=orb.InteractiveService.elementProperties style=margin-bottom:14px;><div ng-repeat="(eventKey, event) in orb.InteractiveService.elementProperties.events track by $index" class="c-sidebar_event c-sidebar_item"><label><span ng-bind=eventKey></span> <button class="circle small light-blue" ng-if=!event.fn.length ng-click="orb.OrbiterService.currentEventObject=event"><i class="fa fa-plus"></i></button></label><div class=c-sidebar_event_function ng-if=event.fn.length><label><span ng-bind=event.label></span> <button class="circle small" ng-click="orb.OrbiterService.currentEventObject=event;"><i class="fa fa-pencil"></i></button></label></div></div></div><div class=c-sidebar_elements_properties><h4>Metadata</h4><div ng-if=orb.InteractiveService.elementProperties style=margin-bottom:14px;><div class=c-sidebar_item><label>Name</label> <small ng-if=orb.OrbiterService.stagedElementIdConflict ng-bind=orb.OrbiterService.stagedElementIdConflict></small><div class=inline-inputs><input type=text ng-model=orb.InteractiveService.elementProperties.id ng-class="orb.OrbiterService.stagedElementIdConflict ? \'red\' : \'\'"> <button ng-click=orb.OrbiterService.updateElementId(orb.InteractiveService.elementProperties)><i class="fa fa-check"></i></button></div></div><div class=c-sidebar_item><label>Children</label><div ng-bind=orb.InteractiveService.elementProperties.nodes.length style="opacity: .7;"></div></div><div class=c-sidebar_item><label>Added</label><div ng-bind="orb.formatDate(orb.InteractiveService.elementProperties.id.split(\'_\')[1])" style="opacity: .7;"></div></div><div class=c-sidebar_item><label>Label</label><div ng-bind=orb.InteractiveService.elementProperties.label style="opacity: .7;"></div></div><div class=c-sidebar_item><label>ID</label><div ng-bind=orb.InteractiveService.elementProperties.id style="opacity: .7;"></div></div></div></div></div></div>'}}angular.module("app").directive("orbiterSidebar",e)}(),function(){"use strict";function e(e,t,r){return{restrict:"E",link:function(e,i,o){var n=["padding-top","padding-bottom","padding-right","padding-left","margin-top","margin-bottom","margin-right","margin-left"],a=function(){e.spacingProperties={};for(var o=0;o<n.length;o++)e.spacingProperties[n[o]]=t.lookUpPath(t.properties,t.elementProperties.properties[n[o]].bind);var a="Units of measurement can be in px, em, %, etc...",l=' type="text" title="'+a+'"',s='<div class="c-expandable" ng-class="spacingSettingsToggled ? \'active\' : \'\'"><div class="c-expandable_toggler" ng-click="spacingSettingsToggled ? spacingSettingsToggled=false : spacingSettingsToggled=true">Margin - Padding</div><div class="c-expandable_content"><div class="c-expandable_content-inner"><div class="c-spacing-table margin"><div class="c-spacing-table-cell"><input ng-model="spacingProperties[\'margin-left\'].value"'+l+'></div><div class="c-spacing-table-cell"><span>Margins</span><div class="middle-top"><input ng-model="spacingProperties[\'margin-top\'].value"'+l+'></div><div class="c-spacing-table padding"><div class="c-spacing-table-cell"><input ng-model="spacingProperties[\'padding-left\'].value"'+l+'></div><div class="c-spacing-table-cell"><span>Padding</span><div class="middle-top"><input ng-model="spacingProperties[\'padding-top\'].value"'+l+'></div><div class="middle-bottom"><input ng-model="spacingProperties[\'padding-bottom\'].value"'+l+'></div></div><div class="c-spacing-table-cell"><input ng-model="spacingProperties[\'padding-right\'].value"'+l+'></div></div><div class="middle-bottom"><input ng-model="spacingProperties[\'margin-bottom\'].value"'+l+'></div></div><div class="c-spacing-table-cell"><input ng-model="spacingProperties[\'margin-right\'].value"'+l+"></div></div></div></div></div>";i.html(s),r(i.contents())(e)};a(),e.$watch(function(){return t.elementProperties.id},function(e,t){e!==t&&a()})}}}e.$inject=["OrbiterService","InteractiveService","$compile"],angular.module("app").directive("spacingProperties",e)}(),function(){"use strict";function e(e,t,r){return{restrict:"E",link:function(e,i,o){var n=["font-size","font-weight","font-style","text-decoration","text-align","color"],a=function(){e.textProperties={};for(var o=0;o<n.length;o++){var a=t.lookUpPath(t.properties,t.elementProperties.properties[n[o]].bind);a&&(e.textProperties[n[o]]=a)}var l='<div class="c-expandable" ng-class="textSettingsToggled ? \'active\' : \'\'"><div class="c-expandable_toggler" ng-click="textSettingsToggled ? textSettingsToggled=false : textSettingsToggled=true">Text settings</div><div class="c-expandable_content"><div class="c-expandable_content-inner"><div class="c-input-row"><div class="c-input-group"><label><i class="fa fa-text-height"></i></label><input ng-model="textProperties[\'font-size\'].value" type="text" /></div><div class="c-input-group"><label><i class="fa fa-bold"></i></label><select ng-model="textProperties[\'font-weight\'].value"><option value="lighter">Lighter</option><option value="light">Light</option><option value="normal">Normal</option><option value="bold">Bold</option><option value="bolder">Bolder</option><option value="inherit">Inherit</option></select></div><div class="c-input-group"><label><i class="fa fa-italic"></i></label><select ng-model="textProperties[\'font-style\'].value"><option value="italic">Italic</option><option value="oblique">Oblique</option><option value="normal">Normal</option><option value="inherit">Inherit</option></select></div><div class="c-input-group"><label><i class="fa fa-underline"></i></label><select ng-model="textProperties[\'text-decoration\'].value"><option value="underline">Underline</option><option value="line-through">Line through</option><option value="overline">Overline</option><option value="none">None</option><option value="inherit">Inherit</option></select></div><div class="c-input-group"><label><i class="fa fa-align-justify"></i></label><select ng-model="textProperties[\'text-align\'].value"><option value="left">left</option><option value="center">center</option><option value="right">right</option><option value="justify">justify</option><option value="inherit">Inherit</option></select></div><div class="c-input-group"><label><i class="fa fa-eyedropper"></i></label><a-ckolor model="textProperties[\'color\'].value" type="\'hidden\'"></a-ckolor></div></div></div></div></div>';i.html(l),r(i.contents())(e)};a(),e.$watch(function(){return t.elementProperties.id},function(e,t){e!==t&&a()})}}}e.$inject=["OrbiterService","InteractiveService","$compile"],angular.module("app").directive("textProperties",e)}();
//# sourceMappingURL=orbiter.min.js.map