!function(){"use strict";function e(){}angular.module("app",["ngResource","ngSanitize","ngRoute","ngAnimate","ngStorage"]).controller("AppCtlr",e)}(),function(){"use strict";function e(e){this.InteractiveService=e,this.debug=function(e){console.log(e)}}e.$inject=["InteractiveService"],angular.module("app").config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{title:"",template:'<div ng-controller="InteractiveCtlr as ictlr" class=m-height100><div ng-repeat="data in ictlr.InteractiveService.htmlTree.nodes track by $index" interactive-node=data interactive-node-parent=ictlr.InteractiveService.htmlTree ng-init="path = $index" interactive-node-parent-path=path class=c-interactive_wrapper></div></div>',controller:"InteractiveCtlr",model:"app"})}]).controller("InteractiveCtlr",e)}(),function(){"use strict";function e(e,t){return{restrict:"A",scope:{data:"=interactiveNode",parent:"=interactiveNodeParent",parentPath:"=interactiveNodeParentPath"},template:'<div ng-controller="InteractiveCtlr as ictlr"><span ng-bind-html=data.properties.text.value></span><div ng-repeat="childData in data.nodes track by $index" interactive-node=childData interactive-node-parent=data ng-init="thisPath=parentPath + \',nodes,\' + $index" interactive-node-parent-path=thisPath path={{thisPath}}></div></div>',link:function(r,n,i){function a(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;14>r;r++)e+=t.charAt(Math.floor(Math.random()*t.length));return n.attr("id",l),e}var l=i.id||a();n.bind("dragover",function(t){t.preventDefault(),n.addClass(i.orbiterAcceptDrop?e.canAccept(i.orbiterAcceptDrop):e.canAcceptDragClass)}),n.bind("dragleave",function(t){n.removeClass(e.canAcceptDragClass)}),n.bind("drop",function(i){i.preventDefault();var a=t.dragging;return n.removeClass(e.canAcceptDragClass),t.addToInteractive(r.data,a),!1})}}}e.$inject=["InteractiveService","OrbiterService"],angular.module("app").directive("interactiveNode",e)}(),function(){"use strict";function e(){var e={htmlTree:{nodes:[{id:"_root_",label:"Block",properties:{display:{type:"select",options:["block","inline"],value:"inline"}},tag:{block:"p",inline:"span"},nodes:[]}]},dragging:null,canAcceptDragClass:"c-drag_can-accept",canAccept:function(t){try{t=JSON.parse(t)}catch(r){}return t&&"object"==typeof t&&e.dragging&&!t.length?e.canAcceptDragClass:void 0}};return e}angular.module("app").service("InteractiveService",e)}(),function(){"use strict";function e(){return{restrict:"E",template:'<div ng-controller="OrbiterCtlr as orb" ng-include="\'src/html/interactive/main.html\'" class=c-interactive_includer></div>'}}angular.module("app").directive("orbiterCanvas",e)}(),function(){"use strict";function e(e,t){return{restrict:"A",scope:{orbiterDragData:"=orbiterDragData"},link:function(t,r,n){function i(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;14>r;r++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}r.attr("draggable","true");var a=n.id;a||(a=i(),r.attr("id",a)),r.bind("dragstart",function(r){e.drag(t.orbiterDragData)}),r.bind("dragend",function(t){e.drag(null)})}}}e.$inject=["OrbiterService","InteractiveService"],angular.module("app").directive("orbiterDraggable",e)}(),function(){"use strict";function e(e,t){return{restrict:"A",link:function(r,n,i){function a(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;14>r;r++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}var l=i.id;l||(l=a(),n.attr("id",l)),n.bind("dragover",function(e){e.preventDefault(),n.addClass(i.orbiterDroppable?t.canAccept(i.orbiterDroppable):t.canAcceptDragClass)}),n.bind("dragleave",function(e){n.removeClass(t.canAcceptDragClass)}),n.bind("drop",function(i){i.preventDefault();var a=e.dragging;return n.removeClass(t.canAcceptDragClass),console.log(r,a),!1})}}}e.$inject=["OrbiterService","InteractiveService"],angular.module("app").directive("orbiterDroppable",e)}(),function(){"use strict";function e(){return{restrict:"E",template:'<div ng-controller="OrbiterCtlr as orb"><div class=c-elements_elements><h4>Elements</h4><div class=c-elements_item ng-repeat="element in orb.OrbiterService.elements track by $index" orbiter-draggable=true orbiter-drag-data=element><span ng-bind=element.label></span></div></div><div class=c-elements_properties><h4>Properties</h4></div></div>'}}angular.module("app").directive("orbiterElements",e)}(),function(){"use strict";function e(e){var t={elements:{block:{label:"Block",properties:{display:{type:"select",options:["block","inline"],value:"inline"}},tag:{block:"p",inline:"span"}},text:{label:"Text",properties:{text:{type:"text",value:"Text"},color:{type:"color",value:"green"},size:{type:"number",value:"24"},weight:{type:"select",options:["light","normal","bold"],value:"normal"},display:{type:"select",options:["block","inline"],value:"inline"},align:{type:"select",options:["left","center","right"],value:"left"}},tag:{block:"p",inline:"span"}},link:{label:"Link"},button:{label:"Button"},list:{label:"List"},filter:{label:"Filter"},media:{label:"Media"}},dragging:null,drag:function(r){t.dragging=r,e.dragging=r},addToInteractive:function(e,t){e.nodes.push(t),console.log(e,t)}};return t}e.$inject=["InteractiveService"],angular.module("app").service("OrbiterService",e)}(),function(){"use strict";function e(e,t,r,n){var i=this;this.$localStorage=e,e.Orbiter||(e.Orbiter={}),this.OrbiterService=r,this.InteractiveService=n,this.trackingMouseMove=!1,this.mouseMoveMethod=null,this.sizingElement=null,this.canvasElements=function(e){for(var r=i.sizingElement[0],n=1;n<i.sizingElement.length;n++)r=r[i.sizingElement[n]];var a=e.pageX-r.getBoundingClientRect().left;0>a&&(a=0),i.$localStorage.Orbiter.elementsWidth=(t.innerWidth-a)/t.innerWidth*100+"%",i.$localStorage.Orbiter.canvasWidth=a/t.innerWidth*100+"%"},this.draggingElement=function(e,t){console.log(e,t)}}e.$inject=["$localStorage","$window","OrbiterService","InteractiveService"],angular.module("app").config(["$routeProvider","$locationProvider",function(e,t){e.when("/_",{title:"Orbiter",template:'<div ng-controller="OrbiterCtlr as ctlr" class=m-height100 ng-mouseup="ctlr.trackingMouseMove = false" ng-mouseleave="ctlr.trackingMouseMove = false" ng-mousemove="ctlr.trackingMouseMove ? ctlr.mouseMoveMethod($event) : null" ng-class="ctlr.trackingMouseMove ? \'c-tracking-mousemove blur-\'+ctlr.dialogueOpen : \'c-ckrank_main blur-\'+ctlr.dialogueOpen"><orbiter-canvas ng-style="{\'width\':ctlr.$localStorage.Orbiter.canvasWidth}"></orbiter-canvas><div class="c-section-resize m-horizontal" ng-style="{\'left\':ctlr.$localStorage.Orbiter.canvasWidth}" ng-mousedown="ctlr.trackingMouseMove=true; ctlr.mouseMoveMethod=ctlr.canvasElements; ctlr.sizingElement=[$event, \'target\', \'previousSibling\']"></div><orbiter-elements ng-style="{\'left\':ctlr.$localStorage.Orbiter.canvasWidth, \'width\':ctlr.$localStorage.Orbiter.elementsWidth}"></orbiter-elements></div>',controller:"OrbiterCtlr",model:"app"})}]).controller("OrbiterCtlr",e)}();
//# sourceMappingURL=orbiter.min.js.map