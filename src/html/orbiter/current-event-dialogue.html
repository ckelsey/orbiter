<div class="c-dialogue_inner" ng-class="orb.dialogueSidebar" ng-init="orb.dialogueSidebar=''; orb.dialogueTaskToAddTo=null">
    <h2>Functional fun</h2>
    <div class="c-dialogue_left">
        <div class="c-dialogue_input">
            <input type="text" ng-model="eventObj.label" placeholder="Function description" />
        </div>
        <h4>Tasks&nbsp;&nbsp;<button class="circle" ng-click="eventObj.fn.push({label:null, method:null, arguments:[{label:null, custom:true, value:null, valueLabel:null}]});"><i class="fa fa-plus"></i></button></h4>
        <div class="c-dialogue_input tasks" ng-repeat="task in eventObj.fn track by $index">
            <input type="text" ng-model="task.label" placeholder="task name" />
            <div class="c-dialogue_input" ng-if="task.method">
                <span class="c-task_action-string">Run function <span ng-bind="task.method.label" class="c-task_action-target"></span></span>
            </div>
            <div class="c-dialogue_input" ng-if="task.property">
                <span class="c-task_action-string">Set <span ng-bind="task.property.label" class="c-task_action-target"></span> to equal <input type="text" ng-model="task.newValue" /></span>
            </div>
            <h4 style="margin: 14px 0px 0px;">Arguments&nbsp;&nbsp;<button class="circle" ng-click="task.arguments.push({label:null, custom:true, value:null, valueLabel:null})"><i class="fa fa-plus"></i></button></h4>
            <div ng-repeat="argument in task.arguments track by $index">
                <input type="text" ng-model="argument.label" placeholder="argument name" style="width:33%;margin-right:7px;vertical-align:middle;" />
                <div ng-if="argument.custom" style="display:inline-block;width:33%;margin-right:7px;vertical-align:middle;">
                    <input type="text" ng-model="argument.value" placeholder="argument string" />
                </div>
                <div ng-if="!argument.custom" style="display:inline-block;width:33%;margin-right:7px;vertical-align:middle;">
                    <div ng-bind="argument.valueLabel"></div>
                </div>
                <button class="circle orange" style="width: 30px;vertical-align:middle;" ng-click="orb.OrbiterService.removeArrayElement(task.arguments, $index)"><i class="fa fa-trash"></i></button>
            </div>
            <div class="c-dialogue_input">
                <button class="" style="margin: 7px 0px;" ng-click="orb.dialogueSidebar = orb.dialogueSidebar === 'properties' ? '' : 'properties'; orb.dialogueTaskToAddTo=task">Properties</button>
                <button class="" style="margin: 7px 0px;" ng-click="orb.dialogueSidebar = orb.dialogueSidebar === 'methods' ? '' :'methods'; orb.dialogueTaskToAddTo=task">Methods</button>
                <button class="orange" style="margin: 7px 0px;" ng-click="orb.OrbiterService.removeArrayElement(eventObj.fn, $index)">Delete task</button>
            </div>
        </div>
        <div class="c-dialogue_input done_buttons" style="text-align: right;">
            <button class="circle" ng-if="eventObj.label && eventObj.fn.length" ng-click="orb.OrbiterService.currentEventObject=null" ng-if="eventObj.label && eventObj.fn.length"><i class="fa fa-check"></i></button>
            <button class="circle" ng-if="!eventObj.label || !eventObj.fn.length" ng-click="orb.OrbiterService.currentEventObject=null"><i class="fa fa-close"></i></button>
        </div>
    </div>
    <div class="c-dialogue_right">
        <div class="c-dialogue_event-property-list">
            <h3>Properties</h3>
            <div ng-repeat="property in orb.InteractiveService.properties track by $index" ng-if="property.label" ng-click="orb.dialogueTaskToAddTo.property=property;orb.dialogueSidebar='';orb.dialogueTaskToAddTo=null;" ng-bind="property.label" class="c-dialogue_event-property-item"></div>
        </div>

        <div class="c-dialogue_event-method-list">
            <h3>Methods</h3>
            <div ng-repeat="method in orb.InteractiveService.methods track by $index" ng-click="orb.dialogueTaskToAddTo.method=method;orb.dialogueSidebar='';orb.dialogueTaskToAddTo=null;" ng-bind="method.label" class="c-dialogue_event-method-item"></div>
        </div>
    </div>
</div>
</div>
